substitutions:
  devicename:    Ultrasonic Sensor
  devicename_id: ultrasonic_sensor

esphome:
  name: $devicename_id
  friendly_name: $devicename

esp32:
  board: lolin_s2_mini

# Enable logging
logger:

wifi:
  ssid: io
  manual_ip:
    static_ip: 192.168.2.10
    gateway: 192.168.1.1
    subnet: 255.255.252.0

  ap:
    ssid:      Presence Hotspot
    password:  "12345678"

ota:

captive_portal:

# Enable Home Assistant API
api:
  encryption:
    key: "/ApGQuwu3PHMk5dgZxNrBIc1fZDGBDfwt3qi8PoTDWg="

web_server:
  port: 80
  version: 2
  local: true
 
text_sensor:
  - platform: version
    name: $devicename ESPHome Version
  - platform: wifi_info
    ip_address:
      name: $devicename IP
    ssid:
      name: $devicename SSID
    bssid:
      name: $devicename BSSID
    mac_address:
      name: $devicename MAC

switch:
# ------------------------------ Restart board switch
  - platform: restart
    name: "$devicename Restart"

sensor:

# ------------------------------ UpTime sensor
  - platform: uptime
    name: Presence Sensor Uptime
  
# ------------------------------ WiFi Signal sensor
  - platform: wifi_signal
    name: $devicename WiFi Signal
    update_interval: 60s

  - platform: ultrasonic
    trigger_pin: GPIO16
    echo_pin: GPIO18
    name: "Ultrasonic Sensor"
    update_interval: 5s
    timeout: 3.5m
